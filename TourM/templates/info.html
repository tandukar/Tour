<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bootstrap 5 Side Bar Navigation</title>
    {% load static%}
    <!-- bootstrap 5 css -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/css/bootstrap.min.css" integrity="sha384-DhY6onE6f3zzKbjUPRc2hOzGAdEf4/Dz+WJwBvEYL/lkkIsI3ihufq9hk9K4lVoK" crossorigin="anonymous">
    <!-- custom css -->

    <link rel="stylesheet" type="text/css" href="{% static 'admin.css' %}">
</head>

<body>
    <nav class="navbar navbar-expand d-flex flex-column align-item-start" id="sidebar">
        <a href="#" class="navbar-brand text-light mt-5">
            <div class="display-5 font-weight-light pl-4">DashBoard</div>
        </a>
        <ul class="navbar-nav d-flex flex-column mt-5 w-100">

            <a href="#" class="nav-link text-light pl-4"> profile: {{request.user}}</a>
            <li class="nav-item w-100">
                <a href="{%url 'homepage'%}" class="nav-link text-light pl-4">Home</a>
            </li>

            <li class="nav-item w-100">
                <a href="{%url 'infoView'%}" class="nav-link text-light pl-4">info</a>
            </li>
            <li class="nav-item dropdown w-100">
                <a href="#" class="nav-link dropdown-toggle text-light pl-4" id="navbarDropdown" role="button" data-toggle="dropdown" aria-expanded="false">Service</a>
                <ul class="dropdown-menu w-100" aria-labelledby="navbarDropdown">
                    <li><a href="#" class="dropdown-item text-light pl-4 p-2">Service 01</a></li>
                    <li><a href="#" class="dropdown-item text-light pl-4 p-2">Service 02</a></li>
                    <li><a href="#" class="dropdown-item text-light pl-4 p-2">Service 03</a></li>
                </ul>
            </li>
            <li class="nav-item w-100">
                <a href="{%url 'logout'%}" class="nav-link text-light pl-4">logout</a>
            </li>

        </ul>
    </nav>
    {% if user.is_superuser %}

    <section class="p-4 my-container">
        <button class="btn my-4" id="menu-btn">DashBoard</button>
        <div class="p-3 mb-2 bg-primary text-white container-fluid">
            <h3>Total Users: {{ user_count }}</h3>
        </div>
        <div class="p-3 mb-2 bg-primary text-white container-fluid">
            <h3>Total Posts: {{ post_count }}</h3>
        </div>

        <table class="table table-striped table-bordered table-sm">
            <thread class="thread-dark">
                <tr>

                    <th>User Name</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Email</th>
                    <th>Actions</th>
                </tr>
            </thread>
            {% csrf_token %} {% for result in Users %}
            <tr>

                <td>{{result.username}}</td>
                <td>{{result.first_name}}</td>
                <td>{{result.last_name}}</td>
                <td>{{result.email}}</td>
                <td><a href=""><span class="btn btn-success">Edit</span></a>
                    <a href=""><span class="btn btn-danger">Delete</span></a></td>
            </tr>
            {% endfor %}
        </table>
        {%else%} U SHALL NOT PASS{%endif%}
    </section>


    <!-- bootstrap js -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/js/bootstrap.min.js" integrity="sha384-5h4UG+6GOuV9qXh6HqOLwZMY4mnLPraeTrjT5v07o347pj6IkfuoASuGBhfDsp3d" crossorigin="anonymous"></script>
    <!-- custom js -->
    <script>
        var menu_btn = document.querySelector("#menu-btn")
        var sidebar = document.querySelector("#sidebar")
        var container = document.querySelector(".my-container")
        menu_btn.addEventListener("click", () => {
            sidebar.classList.toggle("active-nav")
            container.classList.toggle("active-cont")
        })
    </script>
</body>

</html>